<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="max-image-preview:large" />
    <meta name="description" content="My Artistic Protest" />

    <link rel="stylesheet" href="style.css" />
    <title>My Artistic Protest</title>

  
    

  </head>

  <body>
    <header>
      <label for="modal-checkbox" class="about modal-open">
        <svg
          width="23"
          height="23"
          viewBox="0 0 23 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M11.5 1.64844C6.05859 1.64844 1.64844 6.0625 1.64844 11.5C1.64844 16.9375 6.05859 21.3516 11.5 21.3516C14 21.3516 16.2852 20.4141 18.0234 18.8828C20.0625 17.0781 21.3516 14.4375 21.3516 11.5C21.3516 6.0625 16.9414 1.64844 11.5 1.64844ZM11.5 0C7.54688 0 4.05859 1.99219 1.98828 5.03125C0.734375 6.875 0 9.10156 0 11.5C0 17.8516 5.14844 23 11.5 23C17.8516 23 23 17.8516 23 11.5C23 7.96875 21.4062 4.80469 18.8945 2.69531C16.8945 1.00781 14.3164 0 11.5 0ZM10.6758 9.50781C10.6758 9.04688 11.0469 8.67969 11.5 8.67969C11.957 8.67969 12.3242 9.04688 12.3242 9.50781V16.4375C12.3242 16.6328 12.2578 16.8125 12.1445 16.9531C12.0781 17.0391 11.9961 17.1094 11.9023 17.1641C11.7852 17.2266 11.6484 17.2656 11.5 17.2656C11.2656 17.2656 11.0547 17.1719 10.9023 17.0156C10.7617 16.8672 10.6758 16.6641 10.6758 16.4375V9.50781ZM10.8594 6.04688C10.7461 6.1875 10.6758 6.36719 10.6758 6.5625C10.6758 7.01562 11.0469 7.38281 11.5 7.38281C11.957 7.38281 12.3242 7.01562 12.3242 6.5625C12.3242 6.10156 11.957 5.73438 11.5 5.73438C11.2422 5.73438 11.0078 5.85156 10.8594 6.04688Z"
            fill="hsl(var(--link) /100%)"
          />
        </svg>
      </label>
    </header>




    <main class="scroll-container">
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="puck_futin" data-src="img/stop_putin_stop_war.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="zavalny" data-src="img/test-navalny.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="bird" data-src="img/bird.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="RU_Z_UA_Ctrl-Z" data-src="img/RU_Z_UA_Ctrl-Z.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="stop_putin" data-src="img/stop_putin.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="zasilie" data-src="img/zasilie.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="bird2" data-src="img/bird2.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="bliat" data-src="img/bliat.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="puck_futin" data-src="img/puck_futin.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>

      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="adompoka" src="img/adompoka.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="russiasvo" src="img/russiasvo.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="izgoyda" src="img/izgoyda.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="birdfree" src="img/birdfree.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
      <section>
        <div class="hover">
          <div class="div-t-shirt">
            <img class="russiazapugana" src="img/russiazapugana.svg" alt="" />
          </div>
          <div class="div-button">
            <a class="button" href="#">Download .SVG</a>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <!-- Чекбокс для управления модальным окном -->
      <input type="checkbox" id="modal-checkbox" />

      <!-- Модальное окно -->
      <div class="modal">
        <div>
          <h1>My Artistic Protest</h1>
          <p>
            I, <a href="https://netwebdev.github.io/" target="_blank" rel="noopener noreferrer">Mikhail</a>, offer a collection of unique images created by me,
            available for free download under the Creative Commons Zero (CC0)
            license. This means that all images can be used for any
            purpose—personal or commercial—without the need to credit the author
            or request permission. The ideas behind these works were inspired by
            various sources, including different situations, statements, and
            projects by other authors. Each piece is crafted with attention to
            detail and high quality, making them ideal for web design, printing,
            advertising, and other creative projects.
          </p>
          <p>
            However, these works are not just visual content. They express my
            stance in support of Ukraine and serve as a symbol of my protest
            against the current government in the Russian Federation and its
            actions. I believe that art can be a powerful instrument of change,
            capable of inspiring and supporting those who fight for freedom and
            justice.
          </p>
        </div>
        <hr />
        <label for="modal-checkbox" class="modal-close">Close</label>
      </div>

      <!-- Фон затемнения -->
      <div class="modal-overlay">
        <label
          for="modal-checkbox"
          class="modal-close modal-overlay-close"
        ></label>
      </div>
    </footer>
    <script>



// document.querySelectorAll('section').forEach(function(section) {
//     let img = section.querySelector('img');
//     let link = section.querySelector('a.button');
    
//     if (img && link) {
//         link.href = img.src;
//         link.setAttribute('download', '');
//     }
// });

document.querySelectorAll('section').forEach(function(section) {
    // Находим <img> внутри текущей секции
    let img = section.querySelector('img');
    // Находим <a> внутри текущей секции
    let link = section.querySelector('a.button');
    
    if (img && link) {
        // Получаем значение атрибута data-src
        let imgSrc = img.getAttribute('data-src');
        if (imgSrc) {
            // Подставляем значение из data-src с добавлением -download
            let downloadSrc = imgSrc.replace('.svg', '-download.svg');
            link.href = downloadSrc;
            // Добавляем атрибут download, чтобы файл скачивался
            link.setAttribute('download', '');
        }
    }
});




      document.addEventListener("DOMContentLoaded", () => {
        const hoverElement = document.querySelector(".hover");
        hoverElement.classList.add("active");
        setTimeout(() => {
          hoverElement.classList.remove("active");
        }, 3000);
      });

      document.addEventListener("DOMContentLoaded", () => {
        const buttons = document.querySelectorAll(".button");
        const licenseText = `
        <div class="license-text">
            Available for free download under the <br>
            <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank">Creative Commons Zero (CC0) license</a>.
        </div>
    `;

        buttons.forEach((button) => {
          button.insertAdjacentHTML("afterend", licenseText);
        });
      });
    </script>

<script>
  // Функция для загрузки изображения с временным параметром
  function loadSVGImage(entry) {
    const img = entry.target;
    const src = img.getAttribute('data-src');
    if (src) {
      // Добавляем уникальный параметр времени, чтобы избежать кэширования
      img.src = `${src}?t=${new Date().getTime()}`;
    }
  }

  // Функция для удаления атрибута src при уходе из области видимости
  function resetSVGImage(entry) {
    const img = entry.target;
    img.removeAttribute('src'); // Удаляем атрибут src
  }

  // Создание наблюдателя
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        // Если изображение в зоне видимости, загружаем его
        loadSVGImage(entry);
      } else {
        // Если изображение выходит из зоны видимости, сбрасываем его
        resetSVGImage(entry);
      }
    });
  });

  // Наблюдаем за всеми изображениями с атрибутом data-src
  document.querySelectorAll('img[data-src]').forEach((img) => {
    observer.observe(img);
  });
</script>




  </body>
</html>
